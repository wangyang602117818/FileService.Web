1：简介
随着互联网的发展，每一个企业都在为自己的公司寻求互联网解决方案，公司的各个项目之间相互协作，来解决某一类实际问题从而提高效率，而这些系统在运行的时候就会相应的产生各种文件，这些文件都分散在各个项目之中，有时候着急找起来真的是非常麻烦；为了应对这个问题，这一套文件管理系统应运而生。
文件管理系统设计的初衷是为了解决各个项目散乱分布的文件；项目通过 FileService.Client.dll，把文件传递到该系统并返回文件 FileId,FileName,FileSize;上传者需要存储 FileId(视情况存储 FileName,FileSize)；然后通过 FileId 来调用 FileService.Client.dll 中的接口来获取文件(文件是一个网络流的句柄，不会把文件全部加载到内存)
2：项目中涉及到的技术： 
前端 React 框架(组件式开发，点击只是替换页面中相应的组件，不刷新页面，用户体验比较好)；
后台 c#(文件md5校验确保相同内容的文件只在数据库存一份)
数据库 Mongodb (capped collection用来监控上传任务，实时转换)
源文件主要存储在 Mongodb 的 GridFS 中(fs.files,fs.chunks)，
转换之后的文件分别存储在如下表中：
	1）图片缩略图：Thumbnail表
	2）视频切片文件：M3u8和Ts表
	3）视频截图文件：VideoCapture表
	4）微软的office文档转换之后的pdf文档 ：(convert.files,convert.chunks)
	5) zip,rar压缩包解压之后的文件：(convert.files,convert.chunks)
3：文件存到mongodb vs 文件存到系统磁盘
由于该系统是把文件存到mongodb中的，下面 针对把文件存到 mongodb、系统磁盘 的优缺点做一下说明：
使用mongodb的优点：
	1）如果你的磁盘文件系统 对文件夹中的文件个数有限制，使用 Mongodb的 GridFS 来存储文件可以避免这个问题。
	2）如果你想对离散的文件做统一的管理，并且有界面可操作，该系统可以胜任。
	3）如果你想对每一个文件添加权限控制，不同的人只能查看不同的文件，使用mongodb具有优势。
	4）随着文件的增多，使用多台服务器存储文件是常有的事，而mongodb天生就是分布式的，它的分片和备份机制能够非常容易的实现横向扩展
使用系统磁盘的优点：
	1）当你的项目对性能有着极致的追求的时候，使用磁盘存储文件会更有优势。
确实，文件存储到mongodb会有一些性能上的损耗，但是却可以获得更多其他的好处；而且经过测试，100g的文件存到单个mongodb上(没有分片)，依然可以满足实时获取图片的需求。

